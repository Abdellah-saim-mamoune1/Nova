2025-08-01 17:24:49.045 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 17:24:50.797 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 17:24:50.888 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 17:24:52.517 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 17:24:54.141 +02:00 [INF] Hosting environment: Development
2025-08-01 17:24:54.166 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 17:24:54.354 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 17:24:56.185 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 2044.8657ms
2025-08-01 17:24:56.226 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 17:24:56.226 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 17:24:56.303 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 77.182ms
2025-08-01 17:24:56.457 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 232.2322ms
2025-08-01 17:24:56.617 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 17:24:56.739 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.2043ms
2025-08-01 17:27:23.201 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/employee/client - application/json 318
2025-08-01 17:27:23.275 +02:00 [INF] CORS policy execution failed.
2025-08-01 17:27:23.279 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 17:27:23.344 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.AddNewClientAsync (bankApI)'
2025-08-01 17:27:23.744 +02:00 [INF] Route matched with {action = "AddNewClient", controller = "ClientAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewClientAsync(bankApI.BusinessLayer.Dto_s.PersonClientSetDto) on controller bankApI.Controllers.EmployeeController.ClientAdminController (bankApI).
2025-08-01 17:27:32.159 +02:00 [INF] Executed DbCommand (313ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Date), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Persons] ([Address], [BirthDate], [Email], [FirstName], [Gender], [LastName], [PhoneNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-01 17:27:32.433 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cards] ([CVV], [CardNumber], [ExpirationDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-08-01 17:27:32.529 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tokens] ([RefreshToken], [RefreshTokenExpiryTime])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-08-01 17:27:33.265 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Double), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([AccountAddress], [Balance], [CardId], [IsFrozen], [PassWord], [PersonId], [TokenId])
OUTPUT INSERTED.[Id], INSERTED.[CreatedAt]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-01 17:27:33.401 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Clients] ([PersonId], [IsActive], [TypeId])
OUTPUT INSERTED.[CreatedAt]
VALUES (@p0, @p1, @p2);
2025-08-01 17:27:35.127 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'bankApI.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Clients_Roles_TypeId". The conflict occurred in database "BankDb", table "dbo.Roles", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e9c6f653-4592-453f-b07a-92266fbd6ee1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Clients_Roles_TypeId". The conflict occurred in database "BankDb", table "dbo.Roles", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e9c6f653-4592-453f-b07a-92266fbd6ee1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-01 17:27:36.266 +02:00 [ERR] Error while adding new client.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Clients_Roles_TypeId". The conflict occurred in database "BankDb", table "dbo.Roles", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e9c6f653-4592-453f-b07a-92266fbd6ee1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at bankApI.Repositories.EmployeeRepositories.ClientAdminRepository.<>c__DisplayClass3_0.<<AddNewClientAsync>b__0>d.MoveNext() in C:\Users\TADJ TECH\source\repos\bankApI\Repositories\Employee\ClientAdminRepository.cs:line 39
--- End of stack trace from previous location ---
   at bankApI.Repositories.EmployeeRepositories.ClientAdminRepository.<>c__DisplayClass3_0.<<AddNewClientAsync>b__0>d.MoveNext() in C:\Users\TADJ TECH\source\repos\bankApI\Repositories\Employee\ClientAdminRepository.cs:line 40
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at bankApI.Repositories.EmployeeRepositories.ClientAdminRepository.AddNewClientAsync(PersonClientSetDto Client) in C:\Users\TADJ TECH\source\repos\bankApI\Repositories\Employee\ClientAdminRepository.cs:line 22
2025-08-01 17:27:36.421 +02:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-08-01 17:27:36.440 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.ClientAdminController.AddNewClientAsync (bankApI) in 12673.2543ms
2025-08-01 17:27:36.448 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.AddNewClientAsync (bankApI)'
2025-08-01 17:27:36.486 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/employee/client - 500 null text/plain; charset=utf-8 13289.8558ms
2025-08-01 17:30:25.740 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/employee/client - application/json 318
2025-08-01 17:30:25.773 +02:00 [INF] CORS policy execution failed.
2025-08-01 17:30:25.775 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 17:30:25.781 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.AddNewClientAsync (bankApI)'
2025-08-01 17:30:25.789 +02:00 [INF] Route matched with {action = "AddNewClient", controller = "ClientAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewClientAsync(bankApI.BusinessLayer.Dto_s.PersonClientSetDto) on controller bankApI.Controllers.EmployeeController.ClientAdminController (bankApI).
2025-08-01 17:30:25.962 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Date), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Persons] ([Address], [BirthDate], [Email], [FirstName], [Gender], [LastName], [PhoneNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-01 17:30:25.994 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cards] ([CVV], [CardNumber], [ExpirationDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-08-01 17:30:26.019 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tokens] ([RefreshToken], [RefreshTokenExpiryTime])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-08-01 17:30:26.446 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Double), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([AccountAddress], [Balance], [CardId], [IsFrozen], [PassWord], [PersonId], [TokenId])
OUTPUT INSERTED.[Id], INSERTED.[CreatedAt]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-01 17:30:26.500 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Clients] ([PersonId], [IsActive], [TypeId])
OUTPUT INSERTED.[CreatedAt]
VALUES (@p0, @p1, @p2);
2025-08-01 17:30:26.542 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 17:30:26.547 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.ClientAdminController.AddNewClientAsync (bankApI) in 745.9318ms
2025-08-01 17:30:26.553 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.AddNewClientAsync (bankApI)'
2025-08-01 17:30:26.560 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/employee/client - 200 null text/plain; charset=utf-8 822.0929ms
2025-08-01 17:31:04.183 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/client/client/1 - null null
2025-08-01 17:31:04.214 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:31:04.238 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo(Int32) on controller bankApI.Controllers.EmployeeController.ClientAdminController (bankApI).
2025-08-01 17:31:05.322 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 17:31:05.647 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'bankApI.Data.AppDbContext'.
System.InvalidOperationException: The required column 'AccountAddress' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The required column 'AccountAddress' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-08-01 17:31:06.202 +02:00 [ERR] Error while fetching client info.
System.InvalidOperationException: The required column 'AccountAddress' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at bankApI.Repositories.Shared.ClientInfoGetRepository.GetClientInfo(Int32 Id) in C:\Users\TADJ TECH\source\repos\bankApI\Repositories\Shared\ClientInfoGetRepository.cs:line 15
2025-08-01 17:31:06.248 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 17:31:06.286 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI) in 2037.3979ms
2025-08-01 17:31:06.303 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:31:06.311 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/client/client/1 - 200 null application/json; charset=utf-8 2128.0118ms
2025-08-01 17:31:26.627 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/client/client/15 - null null
2025-08-01 17:31:26.663 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:31:26.668 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo(Int32) on controller bankApI.Controllers.EmployeeController.ClientAdminController (bankApI).
2025-08-01 17:31:26.709 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 17:31:26.940 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'bankApI.Data.AppDbContext'.
System.InvalidOperationException: The required column 'AccountAddress' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The required column 'AccountAddress' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-08-01 17:31:27.562 +02:00 [ERR] Error while fetching client info.
System.InvalidOperationException: The required column 'AccountAddress' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at bankApI.Repositories.Shared.ClientInfoGetRepository.GetClientInfo(Int32 Id) in C:\Users\TADJ TECH\source\repos\bankApI\Repositories\Shared\ClientInfoGetRepository.cs:line 15
2025-08-01 17:31:27.600 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 17:31:27.603 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI) in 920.3315ms
2025-08-01 17:31:27.612 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:31:27.617 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/client/client/15 - 200 null application/json; charset=utf-8 997.6337ms
2025-08-01 17:48:28.391 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 17:48:29.772 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 17:48:29.777 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 17:48:31.157 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 17:48:32.951 +02:00 [INF] Hosting environment: Development
2025-08-01 17:48:33.035 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 17:48:32.971 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 17:48:35.010 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 2076.9168ms
2025-08-01 17:48:35.331 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 17:48:35.407 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 17:48:35.489 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 158.8043ms
2025-08-01 17:48:35.974 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 568.2246ms
2025-08-01 17:48:36.223 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 17:48:36.944 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 720.9909ms
2025-08-01 17:48:52.054 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/client/client/1 - null null
2025-08-01 17:48:52.089 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:48:52.213 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo(Int32) on controller bankApI.Controllers.EmployeeController.ClientAdminController (bankApI).
2025-08-01 17:48:58.364 +02:00 [INF] Executed DbCommand (387ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 17:48:58.849 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'bankApI.Data.AppDbContext'.
System.InvalidOperationException: The required column 'PersonalEmail' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The required column 'PersonalEmail' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-08-01 17:48:59.504 +02:00 [ERR] Error while fetching client info.
System.InvalidOperationException: The required column 'PersonalEmail' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at bankApI.Repositories.Shared.ClientInfoGetRepository.GetClientInfo(Int32 Id) in C:\Users\TADJ TECH\source\repos\bankApI\Repositories\Shared\ClientInfoGetRepository.cs:line 15
2025-08-01 17:48:59.590 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 17:48:59.665 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI) in 7432.0462ms
2025-08-01 17:48:59.681 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:48:59.711 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/client/client/1 - 200 null application/json; charset=utf-8 7657.0496ms
2025-08-01 17:49:05.923 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/client/client/1 - null null
2025-08-01 17:49:05.950 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:49:05.961 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo(Int32) on controller bankApI.Controllers.EmployeeController.ClientAdminController (bankApI).
2025-08-01 17:49:06.054 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 17:49:06.295 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'bankApI.Data.AppDbContext'.
System.InvalidOperationException: The required column 'PersonalEmail' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The required column 'PersonalEmail' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-08-01 17:49:06.776 +02:00 [ERR] Error while fetching client info.
System.InvalidOperationException: The required column 'PersonalEmail' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at bankApI.Repositories.Shared.ClientInfoGetRepository.GetClientInfo(Int32 Id) in C:\Users\TADJ TECH\source\repos\bankApI\Repositories\Shared\ClientInfoGetRepository.cs:line 15
2025-08-01 17:49:06.798 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 17:49:06.802 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI) in 835.026ms
2025-08-01 17:49:06.808 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:49:06.811 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/client/client/1 - 200 null application/json; charset=utf-8 887.7223ms
2025-08-01 17:49:31.876 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/client/client/2 - null null
2025-08-01 17:49:31.886 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:49:31.889 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo(Int32) on controller bankApI.Controllers.EmployeeController.ClientAdminController (bankApI).
2025-08-01 17:49:32.147 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 17:49:32.410 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'bankApI.Data.AppDbContext'.
System.InvalidOperationException: The required column 'PersonalEmail' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The required column 'PersonalEmail' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-08-01 17:49:32.987 +02:00 [ERR] Error while fetching client info.
System.InvalidOperationException: The required column 'PersonalEmail' was not present in the results of a 'FromSql' operation.
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.BuildIndexMap(IReadOnlyList`1 columnNames, DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.FromSqlQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at bankApI.Repositories.Shared.ClientInfoGetRepository.GetClientInfo(Int32 Id) in C:\Users\TADJ TECH\source\repos\bankApI\Repositories\Shared\ClientInfoGetRepository.cs:line 15
2025-08-01 17:49:33.136 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 17:49:33.140 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI) in 1241.7966ms
2025-08-01 17:49:33.147 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:49:33.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/client/client/2 - 200 null application/json; charset=utf-8 1273.6315ms
2025-08-01 17:55:13.189 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 17:55:14.274 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 17:55:16.351 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 17:55:17.202 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 17:55:17.393 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 17:55:17.445 +02:00 [INF] Hosting environment: Development
2025-08-01 17:55:17.450 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 17:55:18.887 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 1750.7322ms
2025-08-01 17:55:18.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 17:55:18.890 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 17:55:19.218 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 328.0272ms
2025-08-01 17:55:19.355 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 464.8151ms
2025-08-01 17:55:19.531 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 17:55:19.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 188.8792ms
2025-08-01 17:57:11.611 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/client/client/2 - null null
2025-08-01 17:57:11.699 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:57:11.836 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo(Int32) on controller bankApI.Controllers.EmployeeController.ClientAdminController (bankApI).
2025-08-01 17:57:18.944 +02:00 [INF] Executed DbCommand (343ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 17:57:19.356 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 17:57:19.407 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI) in 7538.9312ms
2025-08-01 17:57:19.418 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 17:57:19.460 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/client/client/2 - 200 null application/json; charset=utf-8 7849.2679ms
2025-08-01 18:12:14.031 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/employee - application/json 350
2025-08-01 18:12:14.064 +02:00 [INF] CORS policy execution failed.
2025-08-01 18:12:14.066 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 18:12:14.070 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.AddEmployeeAsync (bankApI)'
2025-08-01 18:12:14.085 +02:00 [INF] Route matched with {action = "AddEmployee", controller = "EmployeeAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEmployeeAsync(bankApI.BusinessLayer.Dto_s.EmployeePersonDto) on controller bankApI.Controllers.EmployeeController.EmployeeAdminController (bankApI).
2025-08-01 18:12:14.428 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-01 18:12:14.495 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.EmployeeAdminController.AddEmployeeAsync (bankApI) in 404.8486ms
2025-08-01 18:12:14.503 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.AddEmployeeAsync (bankApI)'
2025-08-01 18:12:14.511 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/employee - 400 null application/problem+json; charset=utf-8 479.7633ms
2025-08-01 18:12:24.547 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/employee - application/json 351
2025-08-01 18:12:24.561 +02:00 [INF] CORS policy execution failed.
2025-08-01 18:12:24.563 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 18:12:24.569 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.AddEmployeeAsync (bankApI)'
2025-08-01 18:12:24.574 +02:00 [INF] Route matched with {action = "AddEmployee", controller = "EmployeeAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEmployeeAsync(bankApI.BusinessLayer.Dto_s.EmployeePersonDto) on controller bankApI.Controllers.EmployeeController.EmployeeAdminController (bankApI).
2025-08-01 18:12:25.342 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Date), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Persons] ([Address], [BirthDate], [Email], [FirstName], [Gender], [LastName], [PhoneNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-01 18:12:25.595 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Employees] ([PersonId], [IsActive], [RoleTypeId], [TypeId], [salary])
OUTPUT INSERTED.[CreatedAt]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-08-01 18:12:25.705 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tokens] ([RefreshToken], [RefreshTokenExpiryTime])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-08-01 18:12:26.307 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EmployeeAccount] ([Account], [EmployeeId], [IsFrozen], [Password], [TokenId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-08-01 18:12:26.399 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 18:12:26.407 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.EmployeeAdminController.AddEmployeeAsync (bankApI) in 1826.9738ms
2025-08-01 18:12:26.410 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.AddEmployeeAsync (bankApI)'
2025-08-01 18:12:26.417 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/employee - 200 null text/plain; charset=utf-8 1870.4429ms
2025-08-01 18:12:59.966 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 71
2025-08-01 18:12:59.976 +02:00 [INF] CORS policy execution failed.
2025-08-01 18:12:59.978 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 18:12:59.985 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 18:12:59.996 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 18:13:01.057 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Account], [e].[EmployeeId], [e].[IsFrozen], [e].[Password], [e].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [p].[Id], [p].[Address], [p].[BirthDate], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PhoneNumber], [e0].[PersonId], [e0].[CreatedAt], [e0].[IsActive], [e0].[RoleTypeId], [e0].[TypeId], [e0].[salary], [e1].[Id], [e1].[Type]
FROM [EmployeeAccount] AS [e]
INNER JOIN [Tokens] AS [t] ON [e].[TokenId] = [t].[Id]
INNER JOIN [Persons] AS [p] ON [e].[EmployeeId] = [p].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[Id] = [e0].[PersonId]
LEFT JOIN [EmployeeType] AS [e1] ON [e0].[TypeId] = [e1].[Id]
WHERE [e].[Account] = @__request_Email_0
2025-08-01 18:13:01.089 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-08-01 18:13:01.094 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 1087.8685ms
2025-08-01 18:13:01.118 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 18:13:01.122 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 401 null text/plain; charset=utf-8 1162.121ms
2025-08-01 18:13:36.732 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 72
2025-08-01 18:13:36.812 +02:00 [INF] CORS policy execution failed.
2025-08-01 18:13:36.813 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 18:13:36.816 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 18:13:36.819 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 18:13:36.872 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Account], [e].[EmployeeId], [e].[IsFrozen], [e].[Password], [e].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [p].[Id], [p].[Address], [p].[BirthDate], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PhoneNumber], [e0].[PersonId], [e0].[CreatedAt], [e0].[IsActive], [e0].[RoleTypeId], [e0].[TypeId], [e0].[salary], [e1].[Id], [e1].[Type]
FROM [EmployeeAccount] AS [e]
INNER JOIN [Tokens] AS [t] ON [e].[TokenId] = [t].[Id]
INNER JOIN [Persons] AS [p] ON [e].[EmployeeId] = [p].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[Id] = [e0].[PersonId]
LEFT JOIN [EmployeeType] AS [e1] ON [e0].[TypeId] = [e1].[Id]
WHERE [e].[Account] = @__request_Email_0
2025-08-01 18:13:37.363 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-08-01 18:13:37.373 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 548.4461ms
2025-08-01 18:13:37.401 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 18:13:37.404 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 401 null text/plain; charset=utf-8 672.5854ms
2025-08-01 18:13:45.627 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 73
2025-08-01 18:13:45.636 +02:00 [INF] CORS policy execution failed.
2025-08-01 18:13:45.642 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 18:13:45.646 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 18:13:45.647 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 18:13:45.683 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Account], [e].[EmployeeId], [e].[IsFrozen], [e].[Password], [e].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [p].[Id], [p].[Address], [p].[BirthDate], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PhoneNumber], [e0].[PersonId], [e0].[CreatedAt], [e0].[IsActive], [e0].[RoleTypeId], [e0].[TypeId], [e0].[salary], [e1].[Id], [e1].[Type]
FROM [EmployeeAccount] AS [e]
INNER JOIN [Tokens] AS [t] ON [e].[TokenId] = [t].[Id]
INNER JOIN [Persons] AS [p] ON [e].[EmployeeId] = [p].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[Id] = [e0].[PersonId]
LEFT JOIN [EmployeeType] AS [e1] ON [e0].[TypeId] = [e1].[Id]
WHERE [e].[Account] = @__request_Email_0
2025-08-01 18:13:46.075 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 18:13:46.113 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__EmployeeAccount_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Account], [e].[EmployeeId], [e].[IsFrozen], [e].[Password], [e].[TokenId]
FROM [EmployeeAccount] AS [e]
WHERE [e].[Account] = @__EmployeeAccount_0
2025-08-01 18:13:46.166 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LoginRegister] ([EmployeeId])
OUTPUT INSERTED.[Id], INSERTED.[Date]
VALUES (@p0);
2025-08-01 18:13:46.195 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 18:13:46.200 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 546.3574ms
2025-08-01 18:13:46.207 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 18:13:46.211 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 583.8055ms
2025-08-01 18:14:16.672 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/employee-Info - null null
2025-08-01 18:14:16.871 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeeInfo (bankApI)'
2025-08-01 18:14:16.886 +02:00 [INF] Route matched with {action = "GetEmployeeInfo", controller = "EmployeeAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployeeInfo() on controller bankApI.Controllers.EmployeeController.EmployeeAdminController (bankApI).
2025-08-01 18:14:17.035 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[FirstName], [p].[LastName], [e0].[Account], [e1].[salary] AS [Salary], [e0].[IsFrozen], [e1].[CreatedAt], [p].[Email] AS [PersonalEmail], [p].[Address], [p].[BirthDate], [p].[PhoneNumber], [e2].[Type], [r].[Type] AS [RoleType], [e1].[IsActive]
FROM [EmployeeAccount] AS [e]
INNER JOIN [Persons] AS [p] ON [e].[EmployeeId] = [p].[Id]
LEFT JOIN [EmployeeAccount] AS [e0] ON [p].[Id] = [e0].[EmployeeId]
LEFT JOIN [Employees] AS [e1] ON [p].[Id] = [e1].[PersonId]
LEFT JOIN [EmployeeType] AS [e2] ON [e1].[TypeId] = [e2].[Id]
LEFT JOIN [Roles] AS [r] ON [e1].[RoleTypeId] = [r].[Id]
WHERE [e].[EmployeeId] = @__Id_0
2025-08-01 18:14:17.064 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.EmployeeDto_s.EmployeeGetDto'.
2025-08-01 18:14:17.095 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeeInfo (bankApI) in 197.6906ms
2025-08-01 18:14:17.107 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeeInfo (bankApI)'
2025-08-01 18:14:17.115 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/employee-Info - 200 null application/json; charset=utf-8 443.3455ms
2025-08-01 18:14:39.146 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/login-register/1,10 - null null
2025-08-01 18:14:39.348 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI)'
2025-08-01 18:14:39.369 +02:00 [INF] Route matched with {action = "GetEmployeesLoginRegister", controller = "EmployeeAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployeesLoginRegister(Int32, Int32) on controller bankApI.Controllers.EmployeeController.EmployeeAdminController (bankApI).
2025-08-01 18:14:39.409 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 18:14:39.414 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 18:14:39.492 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Date], [l].[EmployeeId]
FROM [LoginRegister] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 18:14:40.185 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'bankApI.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:06238bbf-11a2-45b1-b8c0-202d86685a3f
Error Number:10742,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:06238bbf-11a2-45b1-b8c0-202d86685a3f
Error Number:10742,State:1,Class:15
2025-08-01 18:14:42.919 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI) in 3539.3754ms
2025-08-01 18:14:43.339 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI)'
2025-08-01 18:14:44.917 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at bankApI.Repositories.EmployeeRepositories.EmployeeManagementRepository.GetLoginRegisterHistoryPaginatedAsync(Int32 PageNumber, Int32 PageSize) in C:\Users\TADJ TECH\source\repos\bankApI\Repositories\Employee\EmployeeManagementRepository.cs:line 285
   at bankApI.Services.EmployeeServices.EmployeeManagementService.LoginRegisterGetPaginatedAsync(Int32 PageNumber, Int32 PageSize) in C:\Users\TADJ TECH\source\repos\bankApI\Services\Employee\EmployeeManagementService.cs:line 97
   at bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister(Int32 PageNumber, Int32 PageSize) in C:\Users\TADJ TECH\source\repos\bankApI\Controllers\Employee\EmployeeAdminController.cs:line 99
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\TADJ TECH\source\repos\bankApI\Program.cs:line 167
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:06238bbf-11a2-45b1-b8c0-202d86685a3f
Error Number:10742,State:1,Class:15
2025-08-01 18:14:45.086 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/login-register/1,10 - 500 null text/plain; charset=utf-8 5941.0539ms
2025-08-01 18:15:03.873 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/login-register/2,10 - null null
2025-08-01 18:15:03.964 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI)'
2025-08-01 18:15:03.967 +02:00 [INF] Route matched with {action = "GetEmployeesLoginRegister", controller = "EmployeeAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployeesLoginRegister(Int32, Int32) on controller bankApI.Controllers.EmployeeController.EmployeeAdminController (bankApI).
2025-08-01 18:15:03.986 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Date], [l].[EmployeeId]
FROM [LoginRegister] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 18:15:04.148 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'bankApI.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:06238bbf-11a2-45b1-b8c0-202d86685a3f
Error Number:10742,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:06238bbf-11a2-45b1-b8c0-202d86685a3f
Error Number:10742,State:1,Class:15
2025-08-01 18:15:06.048 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI) in 2076.7847ms
2025-08-01 18:15:06.424 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI)'
2025-08-01 18:15:07.831 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at bankApI.Repositories.EmployeeRepositories.EmployeeManagementRepository.GetLoginRegisterHistoryPaginatedAsync(Int32 PageNumber, Int32 PageSize) in C:\Users\TADJ TECH\source\repos\bankApI\Repositories\Employee\EmployeeManagementRepository.cs:line 285
   at bankApI.Services.EmployeeServices.EmployeeManagementService.LoginRegisterGetPaginatedAsync(Int32 PageNumber, Int32 PageSize) in C:\Users\TADJ TECH\source\repos\bankApI\Services\Employee\EmployeeManagementService.cs:line 97
   at bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister(Int32 PageNumber, Int32 PageSize) in C:\Users\TADJ TECH\source\repos\bankApI\Controllers\Employee\EmployeeAdminController.cs:line 99
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\TADJ TECH\source\repos\bankApI\Program.cs:line 167
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:06238bbf-11a2-45b1-b8c0-202d86685a3f
Error Number:10742,State:1,Class:15
2025-08-01 18:15:07.922 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/login-register/2,10 - 500 null text/plain; charset=utf-8 4048.9932ms
2025-08-01 18:17:08.042 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/login-register/20,10 - null null
2025-08-01 18:17:08.111 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI)'
2025-08-01 18:17:08.155 +02:00 [INF] Route matched with {action = "GetEmployeesLoginRegister", controller = "EmployeeAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployeesLoginRegister(Int32, Int32) on controller bankApI.Controllers.EmployeeController.EmployeeAdminController (bankApI).
2025-08-01 18:17:08.719 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 18:17:08.727 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 18:17:09.121 +02:00 [INF] Executed DbCommand (362ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Date], [l].[EmployeeId]
FROM [LoginRegister] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-08-01 18:17:09.337 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [LoginRegister] AS [l]
2025-08-01 18:17:09.348 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.Dto_s.Employee.LoginRegisterHistoryGetPaginatedDto'.
2025-08-01 18:17:09.387 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI) in 1181.9491ms
2025-08-01 18:17:09.398 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI)'
2025-08-01 18:17:09.404 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/login-register/20,10 - 200 null application/json; charset=utf-8 1427.8238ms
2025-08-01 18:17:16.688 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/login-register/3,10 - null null
2025-08-01 18:17:16.714 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI)'
2025-08-01 18:17:16.725 +02:00 [INF] Route matched with {action = "GetEmployeesLoginRegister", controller = "EmployeeAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEmployeesLoginRegister(Int32, Int32) on controller bankApI.Controllers.EmployeeController.EmployeeAdminController (bankApI).
2025-08-01 18:17:16.782 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Date], [l].[EmployeeId]
FROM [LoginRegister] AS [l]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-08-01 18:17:16.998 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'bankApI.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:06238bbf-11a2-45b1-b8c0-202d86685a3f
Error Number:10742,State:1,Class:15
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:06238bbf-11a2-45b1-b8c0-202d86685a3f
Error Number:10742,State:1,Class:15
2025-08-01 18:17:19.292 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI) in 2534.3516ms
2025-08-01 18:17:19.735 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister (bankApI)'
2025-08-01 18:17:21.588 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): The offset specified in a OFFSET clause may not be negative.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at bankApI.Repositories.EmployeeRepositories.EmployeeManagementRepository.GetLoginRegisterHistoryPaginatedAsync(Int32 PageNumber, Int32 PageSize) in C:\Users\TADJ TECH\source\repos\bankApI\Repositories\Employee\EmployeeManagementRepository.cs:line 285
   at bankApI.Services.EmployeeServices.EmployeeManagementService.LoginRegisterGetPaginatedAsync(Int32 PageNumber, Int32 PageSize) in C:\Users\TADJ TECH\source\repos\bankApI\Services\Employee\EmployeeManagementService.cs:line 97
   at bankApI.Controllers.EmployeeController.EmployeeAdminController.GetEmployeesLoginRegister(Int32 PageNumber, Int32 PageSize) in C:\Users\TADJ TECH\source\repos\bankApI\Controllers\Employee\EmployeeAdminController.cs:line 99
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_3>d.MoveNext() in C:\Users\TADJ TECH\source\repos\bankApI\Program.cs:line 167
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:06238bbf-11a2-45b1-b8c0-202d86685a3f
Error Number:10742,State:1,Class:15
2025-08-01 18:17:21.709 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/login-register/3,10 - 500 null text/plain; charset=utf-8 5021.1221ms
2025-08-01 20:14:11.375 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 20:14:12.454 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 20:14:12.508 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 20:14:13.825 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 20:14:13.937 +02:00 [INF] Hosting environment: Development
2025-08-01 20:14:14.340 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 20:14:14.364 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 20:14:59.774 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 45438.4384ms
2025-08-01 20:14:59.852 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 20:14:59.864 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 20:15:00.008 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 144.1963ms
2025-08-01 20:15:00.177 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 325.7006ms
2025-08-01 20:15:00.354 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 20:15:00.620 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 265.911ms
2025-08-01 21:12:22.589 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 21:12:24.582 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 21:12:24.585 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 21:12:25.671 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 21:12:25.712 +02:00 [INF] Hosting environment: Development
2025-08-01 21:12:25.729 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 21:12:26.639 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 21:12:28.949 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 21:12:28.949 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 3063.3393ms
2025-08-01 21:12:28.951 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 21:12:28.994 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 45.5359ms
2025-08-01 21:12:29.159 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 207.921ms
2025-08-01 21:12:29.262 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 21:12:29.372 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 110.8622ms
2025-08-01 21:13:18.339 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 21:13:18.418 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 21:13:18.647 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 21:13:18.652 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 313.3932ms
2025-08-01 21:15:14.771 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/notifications/1,2 - null null
2025-08-01 21:15:14.792 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 21:15:14.795 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 21:15:14.798 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/notifications/1,2 - 401 0 null 27.8596ms
2025-08-01 21:19:00.905 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 52
2025-08-01 21:19:00.924 +02:00 [INF] CORS policy execution failed.
2025-08-01 21:19:00.929 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 21:19:00.945 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 21:19:01.055 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 21:19:07.006 +02:00 [INF] Executed DbCommand (232ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 21:19:08.013 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 21:19:08.092 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 21:19:08.115 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 7045.5518ms
2025-08-01 21:19:08.124 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 21:19:08.156 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 7251.0125ms
2025-08-01 21:19:22.180 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 21:19:22.379 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 21:19:22.402 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo() on controller bankApI.Controllers.ClientController.ClientManagementController (bankApI).
2025-08-01 21:19:22.560 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 21:19:22.622 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 21:19:22.647 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI) in 234.9698ms
2025-08-01 21:19:22.651 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 21:19:22.656 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 200 null application/json; charset=utf-8 476.4605ms
2025-08-01 21:19:28.636 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/accounts - null null
2025-08-01 21:19:28.653 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientAccounts (bankApI)'
2025-08-01 21:19:28.673 +02:00 [INF] Route matched with {action = "GetClientAccounts", controller = "ClientManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientAccounts() on controller bankApI.Controllers.ClientController.ClientManagementController (bankApI).
2025-08-01 21:19:29.007 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountAddress] AS [Account], [a].[Balance], [a].[CreatedAt], [a].[Id], [a].[IsFrozen]
FROM [Accounts] AS [a]
WHERE [a].[PersonId] = @__Id_0
2025-08-01 21:19:29.021 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[bankApI.BusinessLayer.Dto_s.AccountGetDto, bankApI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 21:19:29.058 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientManagementController.GetClientAccounts (bankApI) in 368.1285ms
2025-08-01 21:19:29.068 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientAccounts (bankApI)'
2025-08-01 21:19:29.072 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/accounts - 200 null application/json; charset=utf-8 436.8623ms
2025-08-01 21:19:34.955 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/cards - null null
2025-08-01 21:19:35.014 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientCards (bankApI)'
2025-08-01 21:19:35.048 +02:00 [INF] Route matched with {action = "GetClientCards", controller = "ClientManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientCards() on controller bankApI.Controllers.ClientController.ClientManagementController (bankApI).
2025-08-01 21:19:35.114 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CardNumber], [c].[ExpirationDate]
FROM [Accounts] AS [a]
INNER JOIN [Cards] AS [c] ON [a].[CardId] = [c].[Id]
WHERE [a].[PersonId] = @__Id_0
2025-08-01 21:19:35.124 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[bankApI.BusinessLayer.Dto_s.CardGetDto, bankApI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 21:19:35.131 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientManagementController.GetClientCards (bankApI) in 76.4927ms
2025-08-01 21:19:35.136 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientCards (bankApI)'
2025-08-01 21:19:35.139 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/cards - 200 null application/json; charset=utf-8 184.2572ms
2025-08-01 22:54:30.812 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 22:54:38.957 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 22:54:38.989 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 22:54:39.506 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 22:54:39.512 +02:00 [INF] Hosting environment: Development
2025-08-01 22:54:39.547 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 22:56:36.609 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 22:56:40.790 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 22:56:40.811 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 4273.5253ms
2025-08-01 22:56:40.823 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 22:56:41.036 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 248.9134ms
2025-08-01 22:56:41.689 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 887.3298ms
2025-08-01 22:56:41.918 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 22:56:42.983 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1065.8905ms
2025-08-01 22:57:36.381 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 52
2025-08-01 22:57:36.843 +02:00 [INF] CORS policy execution failed.
2025-08-01 22:57:36.890 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 22:57:37.410 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 22:57:37.867 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 22:57:50.636 +02:00 [INF] Executed DbCommand (942ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 22:57:52.287 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 22:57:52.398 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 22:57:52.419 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 14530.4699ms
2025-08-01 22:57:52.427 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 22:57:52.463 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 16082.7852ms
2025-08-01 22:58:12.633 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 22:58:13.108 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:13.134 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo() on controller bankApI.Controllers.ClientController.ClientManagementController (bankApI).
2025-08-01 22:58:13.423 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 22:58:13.524 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 22:58:13.610 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI) in 463.2162ms
2025-08-01 22:58:13.647 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:13.657 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 200 null application/json; charset=utf-8 1024.1701ms
2025-08-01 22:58:17.135 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 22:58:17.209 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:17.214 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo() on controller bankApI.Controllers.ClientController.ClientManagementController (bankApI).
2025-08-01 22:58:17.658 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 22:58:17.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 22:58:17.683 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI) in 459.9194ms
2025-08-01 22:58:17.724 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:17.738 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 200 null application/json; charset=utf-8 604.3661ms
2025-08-01 22:58:19.632 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 22:58:20.456 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:20.556 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo() on controller bankApI.Controllers.ClientController.ClientManagementController (bankApI).
2025-08-01 22:58:20.851 +02:00 [INF] Executed DbCommand (123ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 22:58:20.906 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 22:58:20.909 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI) in 254.994ms
2025-08-01 22:58:20.915 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:20.924 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 200 null application/json; charset=utf-8 1292.2143ms
2025-08-01 22:58:22.083 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 22:58:22.200 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:22.207 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo() on controller bankApI.Controllers.ClientController.ClientManagementController (bankApI).
2025-08-01 22:58:22.277 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 22:58:22.339 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 22:58:22.380 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI) in 159.1871ms
2025-08-01 22:58:22.406 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:22.417 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 200 null application/json; charset=utf-8 333.5396ms
2025-08-01 22:58:23.415 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 22:58:23.480 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:23.484 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo() on controller bankApI.Controllers.ClientController.ClientManagementController (bankApI).
2025-08-01 22:58:23.539 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 22:58:23.577 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 22:58:23.582 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI) in 86.9084ms
2025-08-01 22:58:23.588 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:23.594 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 200 null application/json; charset=utf-8 179.2081ms
2025-08-01 22:58:25.225 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 22:58:25.246 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:25.252 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo() on controller bankApI.Controllers.ClientController.ClientManagementController (bankApI).
2025-08-01 22:58:25.275 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 22:58:25.281 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 22:58:25.286 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI) in 25.3095ms
2025-08-01 22:58:25.293 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientInfo (bankApI)'
2025-08-01 22:58:25.296 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 200 null application/json; charset=utf-8 71.4377ms
2025-08-01 22:59:33.013 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/accounts - null null
2025-08-01 22:59:33.023 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientAccounts (bankApI)'
2025-08-01 22:59:33.043 +02:00 [INF] Route matched with {action = "GetClientAccounts", controller = "ClientManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientAccounts() on controller bankApI.Controllers.ClientController.ClientManagementController (bankApI).
2025-08-01 22:59:33.147 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountAddress] AS [Account], [a].[Balance], [a].[CreatedAt], [a].[Id], [a].[IsFrozen]
FROM [Accounts] AS [a]
WHERE [a].[PersonId] = @__Id_0
2025-08-01 22:59:33.162 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[bankApI.BusinessLayer.Dto_s.AccountGetDto, bankApI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 22:59:33.197 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientManagementController.GetClientAccounts (bankApI) in 147.9762ms
2025-08-01 22:59:33.203 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientAccounts (bankApI)'
2025-08-01 22:59:33.211 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/accounts - 200 null application/json; charset=utf-8 198.0405ms
2025-08-01 23:00:55.620 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/cards - null null
2025-08-01 23:00:55.815 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientCards (bankApI)'
2025-08-01 23:00:55.838 +02:00 [INF] Route matched with {action = "GetClientCards", controller = "ClientManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientCards() on controller bankApI.Controllers.ClientController.ClientManagementController (bankApI).
2025-08-01 23:01:01.621 +02:00 [INF] Executed DbCommand (5,337ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CardNumber], [c].[ExpirationDate]
FROM [Accounts] AS [a]
INNER JOIN [Cards] AS [c] ON [a].[CardId] = [c].[Id]
WHERE [a].[PersonId] = @__Id_0
2025-08-01 23:01:01.651 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[bankApI.BusinessLayer.Dto_s.CardGetDto, bankApI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-01 23:01:01.676 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientManagementController.GetClientCards (bankApI) in 5821.4911ms
2025-08-01 23:01:01.696 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientManagementController.GetClientCards (bankApI)'
2025-08-01 23:01:01.713 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/cards - 200 null application/json; charset=utf-8 6093.3621ms
2025-08-01 23:01:52.545 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/notifications/2,2 - null null
2025-08-01 23:01:52.662 +02:00 [INF] Executing endpoint 'bankApI.Controllers.ClientController.ClientNotificationsController.GetClientNotifications (bankApI)'
2025-08-01 23:01:52.677 +02:00 [INF] Route matched with {action = "GetClientNotifications", controller = "ClientNotifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientNotifications(Int32, Int32) on controller bankApI.Controllers.ClientController.ClientNotificationsController (bankApI).
2025-08-01 23:01:52.747 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 23:01:52.756 +02:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-01 23:01:52.875 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@__Account_0='?' (Size = 4000), @__Id_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Title], [n].[Body] AS [Notification], [n0].[Name] AS [Type], [s].[Date], [s].[Isviewed] AS [IsViewed]
FROM (
    SELECT [c].[Date], [c].[Isviewed], [c].[NotificationId]
    FROM [Accounts] AS [a]
    INNER JOIN [ClientXNotifications] AS [c] ON [a].[Id] = [c].[AccountId]
    WHERE [a].[AccountAddress] = @__Account_0 AND [a].[Id] = @__Id_1
    ORDER BY (SELECT 1)
    OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Notifications] AS [n] ON [s].[NotificationId] = [n].[Id]
INNER JOIN [NotificationsTypes] AS [n0] ON [n].[TypeId] = [n0].[Id]
2025-08-01 23:01:52.969 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__Account_0='?' (Size = 4000), @__Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Accounts] AS [a]
WHERE [a].[AccountAddress] = @__Account_0 AND [a].[Id] = @__Id_1
2025-08-01 23:01:52.982 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.ClientDto_s.NotificationsPaginatedGetDto'.
2025-08-01 23:01:52.990 +02:00 [INF] Executed action bankApI.Controllers.ClientController.ClientNotificationsController.GetClientNotifications (bankApI) in 308.2225ms
2025-08-01 23:01:53.009 +02:00 [INF] Executed endpoint 'bankApI.Controllers.ClientController.ClientNotificationsController.GetClientNotifications (bankApI)'
2025-08-01 23:01:53.015 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/notifications/2,2 - 200 null application/json; charset=utf-8 470.6828ms
2025-08-01 23:13:33.928 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - null null
2025-08-01 23:13:34.023 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:13:34.055 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - 204 null null 134.3578ms
2025-08-01 23:13:34.063 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 43
2025-08-01 23:13:34.077 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:13:34.101 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:34.115 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:13:34.450 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:13:35.019 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:13:35.033 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:13:35.038 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 914.154ms
2025-08-01 23:13:35.041 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:35.046 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 984.2963ms
2025-08-01 23:13:43.614 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - null null
2025-08-01 23:13:43.622 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:13:43.624 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - 204 null null 10.1534ms
2025-08-01 23:13:43.631 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 43
2025-08-01 23:13:43.647 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:13:43.665 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:43.672 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:13:43.706 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:13:44.041 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:13:44.053 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:13:44.058 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 378.3688ms
2025-08-01 23:13:44.062 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:44.065 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 435.2313ms
2025-08-01 23:13:47.679 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 43
2025-08-01 23:13:47.695 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:13:47.701 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:47.709 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:13:47.743 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:13:48.105 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:13:48.137 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:13:48.143 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 417.8892ms
2025-08-01 23:13:48.147 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:48.157 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 477.8572ms
2025-08-01 23:13:49.041 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - null null
2025-08-01 23:13:49.054 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:13:49.062 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - 204 null null 17.8599ms
2025-08-01 23:13:49.065 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 43
2025-08-01 23:13:49.083 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:13:49.085 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:49.093 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:13:49.130 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:13:49.519 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:13:49.532 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:13:49.535 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 433.6861ms
2025-08-01 23:13:49.545 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:49.550 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 485.2038ms
2025-08-01 23:13:50.306 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 43
2025-08-01 23:13:50.318 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:13:50.324 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:50.330 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:13:50.369 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:13:50.823 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:13:50.848 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:13:50.851 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 508.6852ms
2025-08-01 23:13:50.859 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:50.863 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 556.567ms
2025-08-01 23:13:53.576 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 43
2025-08-01 23:13:53.584 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:13:53.588 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:53.593 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:13:53.646 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:13:54.055 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:13:54.063 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:13:54.067 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 453.9548ms
2025-08-01 23:13:54.071 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:13:54.074 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 498.2021ms
2025-08-01 23:14:25.248 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - null null
2025-08-01 23:14:25.258 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:14:25.261 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - 204 null null 26.4541ms
2025-08-01 23:14:25.265 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 43
2025-08-01 23:14:25.278 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:14:25.280 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:14:25.284 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:14:25.311 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:14:25.680 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:14:25.699 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:14:25.715 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 421.4675ms
2025-08-01 23:14:25.720 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:14:25.723 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 457.6429ms
2025-08-01 23:15:32.294 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - null null
2025-08-01 23:15:32.331 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:15:32.333 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - 204 null null 40.3246ms
2025-08-01 23:15:32.343 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 43
2025-08-01 23:15:32.354 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:15:32.358 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:15:32.364 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:15:32.394 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:15:32.787 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:15:32.807 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:15:32.812 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 437.1703ms
2025-08-01 23:15:32.816 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:15:32.821 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 477.8616ms
2025-08-01 23:15:33.170 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage - null null
2025-08-01 23:15:33.529 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:15:33.771 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-08-01 23:15:33.774 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-08-01 23:15:33.777 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage - 405 0 null 607.3936ms
2025-08-01 23:15:33.795 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage - null null
2025-08-01 23:15:33.873 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:15:33.922 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-08-01 23:15:33.926 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-08-01 23:15:33.930 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage - 405 0 null 134.8805ms
2025-08-01 23:17:07.835 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - null null
2025-08-01 23:17:07.874 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:17:07.882 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - 204 null null 52.8154ms
2025-08-01 23:17:07.901 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 43
2025-08-01 23:17:07.908 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:17:07.912 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:17:07.916 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:17:07.947 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:17:08.396 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:17:08.415 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:17:08.418 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 496.7727ms
2025-08-01 23:17:08.426 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:17:08.429 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 528.444ms
2025-08-01 23:17:08.482 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:17:08.515 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:17:08.622 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:17:08.738 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:17:08.747 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 264.7704ms
2025-08-01 23:17:08.928 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:17:08.949 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:17:08.954 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:17:08.964 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:17:08.969 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 41.1179ms
2025-08-01 23:18:01.247 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - null null
2025-08-01 23:18:01.265 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:18:01.267 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - 204 null null 20.2699ms
2025-08-01 23:18:01.286 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 43
2025-08-01 23:18:01.299 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:18:01.301 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:18:01.303 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:18:01.376 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:18:01.931 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:18:01.976 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:18:01.980 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 669.7895ms
2025-08-01 23:18:01.989 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:18:01.993 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 708.7139ms
2025-08-01 23:18:02.099 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:18:02.192 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:18:02.196 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:18:02.230 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:18:02.245 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 146.0895ms
2025-08-01 23:18:02.351 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:18:02.412 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:18:02.416 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:18:02.428 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:18:02.442 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 90.8726ms
2025-08-01 23:24:13.004 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 23:24:14.007 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 23:24:14.011 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 23:24:18.807 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 23:24:18.895 +02:00 [INF] Hosting environment: Development
2025-08-01 23:24:19.884 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 23:24:19.892 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 23:24:20.986 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:24:22.702 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:24:26.116 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 6188.8025ms
2025-08-01 23:24:26.864 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 23:24:26.979 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 115.5758ms
2025-08-01 23:24:27.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 23:24:29.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 2696.1142ms
2025-08-01 23:24:30.389 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 23:24:31.893 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:24:32.725 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:24:32.812 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2429.3041ms
2025-08-01 23:24:48.709 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - null null
2025-08-01 23:24:48.919 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:24:48.930 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7287/api/authentication/login - 204 null null 221.3357ms
2025-08-01 23:24:48.973 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 43
2025-08-01 23:24:49.020 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:24:49.046 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:24:49.179 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:25:11.133 +02:00 [INF] Executed DbCommand (244ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:25:12.935 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:25:12.997 +02:00 [WRN] The cookie 'accessToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:25:13.006 +02:00 [WRN] The cookie 'refreshToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:25:13.012 +02:00 [WRN] The cookie 'CSRF' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:25:13.040 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:25:13.064 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 23804.5271ms
2025-08-01 23:25:13.068 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:25:13.111 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 24137.8308ms
2025-08-01 23:25:13.266 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:25:13.549 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:25:13.599 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:25:13.640 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:25:13.650 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 384.7775ms
2025-08-01 23:25:13.819 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:25:13.905 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:25:13.916 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:25:13.921 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:25:13.929 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 109.305ms
2025-08-01 23:27:24.474 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 23:27:25.461 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 23:27:26.384 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 23:27:26.773 +02:00 [INF] Hosting environment: Development
2025-08-01 23:27:26.780 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 23:27:28.646 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger - null null
2025-08-01 23:27:29.922 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 23:27:30.779 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:27:30.940 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:27:31.011 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger - 301 0 null 2487.48ms
2025-08-01 23:27:31.028 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/index.html - null null
2025-08-01 23:27:31.202 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:27:31.245 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:27:32.247 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/index.html - 200 null text/html;charset=utf-8 1219.9371ms
2025-08-01 23:27:32.353 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui-bundle.js - null null
2025-08-01 23:27:32.360 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui-standalone-preset.js - null null
2025-08-01 23:27:32.400 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui.css - null null
2025-08-01 23:27:33.019 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:27:32.360 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 23:27:33.146 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:27:33.365 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:27:33.384 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:27:33.399 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 1038.3797ms
2025-08-01 23:27:33.405 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:27:33.416 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:27:33.509 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-08-01 23:27:33.514 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-08-01 23:27:33.545 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui.css - 200 152034 text/css 1144.3225ms
2025-08-01 23:27:33.547 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 1187.429ms
2025-08-01 23:27:33.626 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/_vs/browserLink - null null
2025-08-01 23:27:33.767 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-08-01 23:27:34.076 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 1722.5167ms
2025-08-01 23:27:34.228 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/_vs/browserLink - 200 null text/javascript; charset=UTF-8 601.9134ms
2025-08-01 23:27:34.438 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/v1/swagger.json - null null
2025-08-01 23:27:34.541 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/favicon-32x32.png - null null
2025-08-01 23:27:34.667 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:27:34.851 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:27:34.926 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:27:34.940 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:27:35.009 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-08-01 23:27:35.013 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/favicon-32x32.png - 200 628 image/png 474.7313ms
2025-08-01 23:27:35.083 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 645.1714ms
2025-08-01 23:29:13.584 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/authentication/login - application/json 52
2025-08-01 23:29:13.652 +02:00 [INF] CORS policy execution failed.
2025-08-01 23:29:13.662 +02:00 [INF] Request origin http://localhost:5157 does not have permission to access the resource.
2025-08-01 23:29:13.782 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:29:13.797 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:29:13.811 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:29:13.927 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:29:22.534 +02:00 [INF] Executed DbCommand (264ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:29:24.835 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:29:27.938 +02:00 [WRN] The cookie 'accessToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:29:28.016 +02:00 [WRN] The cookie 'refreshToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:29:28.044 +02:00 [WRN] The cookie 'CSRF' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:29:28.096 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:29:28.119 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 14168.6285ms
2025-08-01 23:29:28.710 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:29:28.743 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/authentication/login - 200 null text/plain; charset=utf-8 15159.4377ms
2025-08-01 23:31:47.449 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5157/api/authentication/login - null null
2025-08-01 23:31:47.692 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:31:47.709 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5157/api/authentication/login - 204 null null 266.2207ms
2025-08-01 23:31:47.778 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/authentication/login - application/json 43
2025-08-01 23:31:47.787 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:31:47.798 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:31:47.803 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:31:48.310 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:31:49.276 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:31:49.330 +02:00 [WRN] The cookie 'accessToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:31:49.335 +02:00 [WRN] The cookie 'refreshToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:31:49.340 +02:00 [WRN] The cookie 'CSRF' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:31:49.345 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:31:49.353 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 1544.6626ms
2025-08-01 23:31:49.360 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:31:49.378 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/authentication/login - 200 null text/plain; charset=utf-8 1599.7014ms
2025-08-01 23:31:49.763 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - null null
2025-08-01 23:31:49.863 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:31:50.480 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:31:50.503 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:31:50.535 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:31:50.570 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:31:50.573 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - 401 0 null 809.4397ms
2025-08-01 23:31:51.143 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - null null
2025-08-01 23:31:51.306 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:31:51.440 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:31:51.493 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:31:51.505 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:31:51.509 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:31:51.512 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - 401 0 null 369.6268ms
2025-08-01 23:32:30.380 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - null null
2025-08-01 23:32:30.521 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:32:30.541 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:32:30.550 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:32:30.555 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:32:30.560 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - 401 0 null 179.3682ms
2025-08-01 23:32:36.231 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/authentication/login - application/json 52
2025-08-01 23:32:36.237 +02:00 [INF] CORS policy execution failed.
2025-08-01 23:32:36.238 +02:00 [INF] Request origin http://localhost:5157 does not have permission to access the resource.
2025-08-01 23:32:36.378 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:32:36.396 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:32:36.400 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:32:36.404 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:32:36.672 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:32:37.022 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:32:37.039 +02:00 [WRN] The cookie 'accessToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:32:37.041 +02:00 [WRN] The cookie 'refreshToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:32:37.044 +02:00 [WRN] The cookie 'CSRF' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:32:37.047 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:32:37.051 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 641.5818ms
2025-08-01 23:32:37.055 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:32:37.058 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/authentication/login - 200 null text/plain; charset=utf-8 827.1963ms
2025-08-01 23:32:43.042 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - null null
2025-08-01 23:32:43.247 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:32:43.268 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:32:43.273 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:32:43.277 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:32:43.282 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - 401 0 null 240.4461ms
2025-08-01 23:32:45.882 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - null null
2025-08-01 23:32:46.009 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:32:46.030 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:32:46.034 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:32:46.038 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:32:46.041 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - 401 0 null 159.3464ms
2025-08-01 23:34:46.889 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 23:34:47.910 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 23:34:50.214 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 23:34:50.847 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/index.html - null null
2025-08-01 23:34:50.880 +02:00 [INF] Hosting environment: Development
2025-08-01 23:34:51.149 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 23:34:51.996 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 23:34:54.429 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:34:54.978 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:34:55.347 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/index.html - 200 null text/html;charset=utf-8 4533.2275ms
2025-08-01 23:34:55.497 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/_vs/browserLink - null null
2025-08-01 23:34:55.710 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 23:34:55.742 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 31.826ms
2025-08-01 23:34:56.112 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/_vs/browserLink - 200 null text/javascript; charset=UTF-8 616.4765ms
2025-08-01 23:34:56.612 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/v1/swagger.json - null null
2025-08-01 23:34:57.158 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:34:57.213 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:34:57.308 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 695.5091ms
2025-08-01 23:35:46.389 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/authentication/login - application/json 52
2025-08-01 23:35:46.424 +02:00 [INF] CORS policy execution failed.
2025-08-01 23:35:46.426 +02:00 [INF] Request origin http://localhost:5157 does not have permission to access the resource.
2025-08-01 23:35:46.558 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:35:46.578 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:35:46.596 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:35:46.722 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:35:53.772 +02:00 [INF] Executed DbCommand (339ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:35:55.226 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:35:55.313 +02:00 [WRN] The cookie 'accessToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:35:55.321 +02:00 [WRN] The cookie 'refreshToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:35:55.326 +02:00 [WRN] The cookie 'CSRF' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:35:55.347 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:35:55.370 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 8626.0519ms
2025-08-01 23:35:55.376 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:35:55.412 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/authentication/login - 200 null text/plain; charset=utf-8 9022.7466ms
2025-08-01 23:36:21.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - null null
2025-08-01 23:36:21.351 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:36:21.367 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:36:21.394 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:36:21.418 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:36:21.423 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - 401 0 null 324.263ms
2025-08-01 23:36:40.783 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5157/api/authentication/login - null null
2025-08-01 23:36:40.879 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:36:40.908 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5157/api/authentication/login - 204 null null 124.6691ms
2025-08-01 23:36:40.929 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/authentication/login - application/json 43
2025-08-01 23:36:40.934 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:36:40.938 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:36:40.946 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:36:41.057 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:36:41.423 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:36:41.437 +02:00 [WRN] The cookie 'accessToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:36:41.440 +02:00 [WRN] The cookie 'refreshToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:36:41.445 +02:00 [WRN] The cookie 'CSRF' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:36:41.450 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:36:41.455 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 502.739ms
2025-08-01 23:36:41.460 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:36:41.464 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/authentication/login - 200 null text/plain; charset=utf-8 535.3898ms
2025-08-01 23:36:41.589 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - null null
2025-08-01 23:36:41.604 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:36:41.846 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:36:41.863 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:36:41.871 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:36:41.881 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:36:41.885 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - 401 0 null 296.1997ms
2025-08-01 23:36:41.987 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - null null
2025-08-01 23:36:42.074 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:36:42.351 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:36:42.382 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:36:42.390 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:36:42.400 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:36:42.403 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - 401 0 null 416.4169ms
2025-08-01 23:39:58.510 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 23:39:59.505 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 23:40:00.199 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 23:40:00.202 +02:00 [INF] Hosting environment: Development
2025-08-01 23:40:00.205 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 23:40:02.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/index.html - null null
2025-08-01 23:40:03.373 +02:00 [WRN] Failed to determine the https port for redirect.
2025-08-01 23:40:04.105 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:40:04.359 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:40:04.938 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/index.html - 200 null text/html;charset=utf-8 2793.829ms
2025-08-01 23:40:05.038 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/_vs/browserLink - null null
2025-08-01 23:40:06.329 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 23:40:06.342 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 13.5312ms
2025-08-01 23:40:06.434 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1397.4283ms
2025-08-01 23:40:07.315 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/swagger/v1/swagger.json - null null
2025-08-01 23:40:07.629 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:40:07.651 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:40:07.814 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 499.0823ms
2025-08-01 23:40:29.673 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/authentication/login - application/json 52
2025-08-01 23:40:29.697 +02:00 [INF] CORS policy execution failed.
2025-08-01 23:40:29.706 +02:00 [INF] Request origin http://localhost:5157 does not have permission to access the resource.
2025-08-01 23:40:29.840 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:40:29.859 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:40:29.879 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:40:29.998 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:40:36.396 +02:00 [INF] Executed DbCommand (199ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:40:37.647 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:40:37.733 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:40:37.750 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 7731.9053ms
2025-08-01 23:40:37.754 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:40:37.799 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/authentication/login - 200 null text/plain; charset=utf-8 8125.5425ms
2025-08-01 23:40:49.970 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - null null
2025-08-01 23:40:50.143 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:40:50.157 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:40:50.183 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:40:50.205 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:40:50.209 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - 401 0 null 239.2887ms
2025-08-01 23:41:12.015 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5157/api/authentication/login - null null
2025-08-01 23:41:12.282 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:41:12.294 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5157/api/authentication/login - 204 null null 279.1284ms
2025-08-01 23:41:12.304 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5157/api/authentication/login - application/json 43
2025-08-01 23:41:12.312 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:41:12.317 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:41:12.321 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:41:12.408 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:41:12.744 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:41:12.755 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:41:12.760 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 432.1709ms
2025-08-01 23:41:12.766 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:41:12.771 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5157/api/authentication/login - 200 null text/plain; charset=utf-8 465.996ms
2025-08-01 23:41:12.884 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - null null
2025-08-01 23:41:12.948 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:41:13.433 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:41:13.450 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:41:13.462 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:41:13.466 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:41:13.469 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - 401 0 null 585.3839ms
2025-08-01 23:41:13.581 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - null null
2025-08-01 23:41:13.677 +02:00 [INF] CORS policy execution successful.
2025-08-01 23:41:13.850 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:41:13.868 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:41:13.883 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:41:13.887 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:41:13.897 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5157/api/client/manage/client-info - 401 0 null 315.5454ms
2025-08-01 23:44:55.278 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 23:44:56.801 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 23:44:56.831 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 23:45:03.832 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 23:45:03.836 +02:00 [INF] Hosting environment: Development
2025-08-01 23:45:03.839 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 23:45:04.565 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 23:45:07.000 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:45:07.228 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:45:07.582 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 23:45:07.647 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 23:45:07.659 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 3284.1308ms
2025-08-01 23:45:07.687 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 105.2288ms
2025-08-01 23:45:07.904 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 256.6795ms
2025-08-01 23:45:08.072 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 23:45:08.295 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:45:08.321 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:45:08.409 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 337.3528ms
2025-08-01 23:45:34.007 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 52
2025-08-01 23:45:34.057 +02:00 [INF] CORS policy execution failed.
2025-08-01 23:45:34.075 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 23:45:34.152 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:45:34.166 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:45:34.185 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:45:34.288 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:45:40.320 +02:00 [INF] Executed DbCommand (198ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:45:41.628 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:45:41.731 +02:00 [WRN] The cookie 'accessToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:45:41.743 +02:00 [WRN] The cookie 'refreshToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:45:41.746 +02:00 [WRN] The cookie 'CSRF' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:45:41.765 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:45:41.783 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 7472.3289ms
2025-08-01 23:45:41.791 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:45:41.819 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 7812.1036ms
2025-08-01 23:45:54.803 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:45:54.907 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:45:54.921 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:45:54.952 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:45:54.966 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:45:54.972 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 169.1453ms
2025-08-01 23:45:57.822 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:45:57.984 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:45:58.015 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:45:58.023 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:45:58.027 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:45:58.030 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 208.1078ms
2025-08-01 23:46:00.431 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:46:00.569 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:46:00.581 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:46:00.618 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:46:00.626 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:46:00.632 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 200.6641ms
2025-08-01 23:47:20.520 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 23:47:21.271 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 23:47:21.274 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 23:47:22.975 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 23:47:23.103 +02:00 [INF] Hosting environment: Development
2025-08-01 23:47:23.107 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 23:47:23.130 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 23:47:25.311 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:47:25.490 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:47:25.851 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 2747.7902ms
2025-08-01 23:47:26.038 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 23:47:26.044 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 23:47:26.102 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 65.0931ms
2025-08-01 23:47:26.292 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 247.5973ms
2025-08-01 23:47:26.445 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 23:47:26.633 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:47:26.653 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:47:26.755 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 309.9668ms
2025-08-01 23:47:43.642 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 52
2025-08-01 23:47:43.677 +02:00 [INF] CORS policy execution failed.
2025-08-01 23:47:43.679 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 23:47:43.763 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:47:43.778 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:47:43.798 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:47:43.883 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:47:51.547 +02:00 [INF] Executed DbCommand (219ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:47:53.056 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:47:53.111 +02:00 [WRN] The cookie 'accessToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:47:53.117 +02:00 [WRN] The cookie 'refreshToken' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:47:53.122 +02:00 [WRN] The cookie 'CSRF' has set 'SameSite=None' and must also set 'Secure'.
2025-08-01 23:47:53.139 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:47:53.157 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 9252.9883ms
2025-08-01 23:47:53.163 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:47:53.196 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 9553.5412ms
2025-08-01 23:48:00.847 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:48:01.024 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:48:01.038 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:48:01.064 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:48:01.082 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:48:01.086 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 238.8172ms
2025-08-01 23:48:03.932 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:48:04.038 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:48:04.055 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:48:04.062 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:48:04.067 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:48:04.070 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 138.5663ms
2025-08-01 23:48:06.687 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:48:07.039 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:48:07.052 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:48:07.057 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:48:07.060 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:48:07.064 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 376.5249ms
2025-08-01 23:48:16.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/accounts - null null
2025-08-01 23:48:16.768 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:48:16.788 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:48:16.793 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:48:16.798 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:48:16.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/accounts - 401 0 null 124.9903ms
2025-08-01 23:48:26.552 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/cards - null null
2025-08-01 23:48:26.687 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:48:26.702 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:48:26.708 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:48:26.713 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:48:26.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/cards - 401 0 null 167.9595ms
2025-08-01 23:50:23.440 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 23:50:33.903 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 23:50:34.031 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 23:50:38.548 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 23:50:38.563 +02:00 [INF] Hosting environment: Development
2025-08-01 23:50:38.572 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 23:50:38.918 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 23:50:43.782 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:50:43.943 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:50:44.549 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 23:50:44.612 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 23:50:44.614 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 5581.5586ms
2025-08-01 23:50:44.641 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 92.5986ms
2025-08-01 23:50:45.131 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 519.3368ms
2025-08-01 23:50:45.431 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 23:50:45.759 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:50:45.822 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:50:45.941 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 508.0656ms
2025-08-01 23:51:20.326 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 52
2025-08-01 23:51:20.379 +02:00 [INF] CORS policy execution failed.
2025-08-01 23:51:20.385 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 23:51:20.510 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:51:20.530 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:51:20.547 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:51:20.672 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:51:29.625 +02:00 [INF] Executed DbCommand (1,465ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:51:31.649 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:51:31.755 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:51:31.778 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 11086.379ms
2025-08-01 23:51:31.783 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:51:31.827 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 11498.9885ms
2025-08-01 23:51:52.340 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:51:52.412 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:51:52.665 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:51:54.470 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:51:56.402 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:51:57.256 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 4915.9494ms
2025-08-01 23:52:02.220 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:52:02.322 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:52:02.352 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:52:02.364 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:52:02.375 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:52:02.378 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 157.8082ms
2025-08-01 23:52:14.068 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/accounts - null null
2025-08-01 23:52:14.180 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:52:14.203 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:52:14.215 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:52:14.220 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:52:14.224 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/accounts - 401 0 null 157.1379ms
2025-08-01 23:52:21.347 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/cards - null null
2025-08-01 23:52:21.520 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:52:21.551 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:52:21.564 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:52:21.567 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:52:21.569 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/cards - 401 0 null 223.0256ms
2025-08-01 23:55:25.942 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 23:55:27.461 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 23:55:27.465 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 23:55:28.505 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 23:55:28.510 +02:00 [INF] Hosting environment: Development
2025-08-01 23:55:28.512 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 23:55:30.274 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 23:55:32.480 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:55:32.625 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:55:33.155 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 23:55:33.206 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 23:55:33.214 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 2970.6749ms
2025-08-01 23:55:33.260 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 108.9116ms
2025-08-01 23:55:33.391 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 185.2275ms
2025-08-01 23:55:33.524 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 23:55:33.701 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:55:33.725 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:55:33.824 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 300.7886ms
2025-08-01 23:56:02.597 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 52
2025-08-01 23:56:02.653 +02:00 [INF] CORS policy execution failed.
2025-08-01 23:56:02.658 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 23:56:02.794 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:56:02.819 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:56:02.844 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:56:03.252 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:56:14.119 +02:00 [INF] Executed DbCommand (326ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccountAddress], [a].[Balance], [a].[CardId], [a].[CreatedAt], [a].[IsFrozen], [a].[PassWord], [a].[PersonId], [a].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime]
FROM [Accounts] AS [a]
INNER JOIN [Tokens] AS [t] ON [a].[TokenId] = [t].[Id]
WHERE [a].[AccountAddress] = @__request_Email_0
2025-08-01 23:56:15.514 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:56:15.585 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:56:15.603 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 12324.6268ms
2025-08-01 23:56:15.609 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:56:15.636 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 13039.1797ms
2025-08-01 23:56:27.418 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:56:27.559 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:56:27.575 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:56:27.604 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:56:27.623 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:56:27.627 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 209.3718ms
2025-08-01 23:56:29.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/client/manage/client-info - null null
2025-08-01 23:56:30.091 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:56:30.105 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:56:30.115 +02:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Client)
2025-08-01 23:56:30.119 +02:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-01 23:56:30.122 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/client/manage/client-info - 401 0 null 128.3078ms
2025-08-01 23:57:43.003 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 73
2025-08-01 23:57:43.102 +02:00 [INF] CORS policy execution failed.
2025-08-01 23:57:43.103 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 23:57:43.187 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:57:43.210 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:57:43.214 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:57:43.218 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:57:43.564 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Account], [e].[EmployeeId], [e].[IsFrozen], [e].[Password], [e].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [p].[Id], [p].[Address], [p].[BirthDate], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PhoneNumber], [e0].[PersonId], [e0].[CreatedAt], [e0].[IsActive], [e0].[RoleTypeId], [e0].[TypeId], [e0].[salary], [e1].[Id], [e1].[Type]
FROM [EmployeeAccount] AS [e]
INNER JOIN [Tokens] AS [t] ON [e].[TokenId] = [t].[Id]
INNER JOIN [Persons] AS [p] ON [e].[EmployeeId] = [p].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[Id] = [e0].[PersonId]
LEFT JOIN [EmployeeType] AS [e1] ON [e0].[TypeId] = [e1].[Id]
WHERE [e].[Account] = @__request_Email_0
2025-08-01 23:57:44.300 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:57:44.354 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__EmployeeAccount_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Account], [e].[EmployeeId], [e].[IsFrozen], [e].[Password], [e].[TokenId]
FROM [EmployeeAccount] AS [e]
WHERE [e].[Account] = @__EmployeeAccount_0
2025-08-01 23:57:44.602 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LoginRegister] ([EmployeeId])
OUTPUT INSERTED.[Id], INSERTED.[Date]
VALUES (@p0);
2025-08-01 23:57:44.685 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:57:44.690 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 1464.915ms
2025-08-01 23:57:44.695 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:57:44.702 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 1697.6431ms
2025-08-01 23:57:55.726 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/client/client/2 - null null
2025-08-01 23:57:55.855 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:57:55.875 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:57:55.882 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 23:57:55.915 +02:00 [INF] Route matched with {action = "GetClientInfo", controller = "ClientAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientInfo(Int32) on controller bankApI.Controllers.EmployeeController.ClientAdminController (bankApI).
2025-08-01 23:57:56.313 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC GetClientInfo @p0
2025-08-01 23:57:56.402 +02:00 [INF] Executing OkObjectResult, writing value of type 'bankApI.BusinessLayer.Dto_s.GetClientInfoDto'.
2025-08-01 23:57:56.436 +02:00 [INF] Executed action bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI) in 502.2466ms
2025-08-01 23:57:56.442 +02:00 [INF] Executed endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientInfo (bankApI)'
2025-08-01 23:57:56.447 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/api/employee/client/client/2 - 200 null application/json; charset=utf-8 721.0518ms
2025-08-01 23:58:08.349 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/api/employee/client/accounts - null null
2025-08-01 23:58:08.490 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:58:08.513 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:58:08.521 +02:00 [INF] Executing endpoint 'bankApI.Controllers.EmployeeController.ClientAdminController.GetClientAccounts (bankApI)'
2025-08-01 23:58:08.536 +02:00 [INF] Route matched with {action = "GetClientAccounts", controller = "ClientAdmin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientAccounts() on controller bankApI.Controllers.EmployeeController.ClientAdminController (bankApI).
2025-08-01 23:58:57.933 +02:00 [INF] User profile is available. Using 'C:\Users\TADJ TECH\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-01 23:58:58.762 +02:00 [INF] Now listening on: https://localhost:7287
2025-08-01 23:58:58.767 +02:00 [INF] Now listening on: http://localhost:5157
2025-08-01 23:58:59.165 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-01 23:58:59.179 +02:00 [INF] Hosting environment: Development
2025-08-01 23:58:59.181 +02:00 [INF] Content root path: C:\Users\TADJ TECH\source\repos\bankApI
2025-08-01 23:59:04.329 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/index.html - null null
2025-08-01 23:59:06.253 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:59:06.388 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:59:07.090 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/index.html - 200 null text/html;charset=utf-8 2786.3776ms
2025-08-01 23:59:07.121 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - null null
2025-08-01 23:59:07.121 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/_vs/browserLink - null null
2025-08-01 23:59:07.149 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 28.0225ms
2025-08-01 23:59:07.272 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/_vs/browserLink - 200 null text/javascript; charset=UTF-8 151.2139ms
2025-08-01 23:59:07.407 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - null null
2025-08-01 23:59:07.799 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:59:07.829 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:59:07.946 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7287/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 538.8112ms
2025-08-01 23:59:46.214 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7287/api/authentication/login - application/json 73
2025-08-01 23:59:46.252 +02:00 [INF] CORS policy execution failed.
2025-08-01 23:59:46.291 +02:00 [INF] Request origin https://localhost:7287 does not have permission to access the resource.
2025-08-01 23:59:46.411 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-01 23:59:46.424 +02:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-01 23:59:46.438 +02:00 [INF] Executing endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:59:46.557 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Login(bankApI.BusinessLayer.Dto_s.ClientXEmployeeDto_s.LoginDto) on controller bankApI.Controllers.AuthenticationController (bankApI).
2025-08-01 23:59:54.252 +02:00 [INF] Executed DbCommand (230ms) [Parameters=[@__request_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Account], [e].[EmployeeId], [e].[IsFrozen], [e].[Password], [e].[TokenId], [t].[Id], [t].[RefreshToken], [t].[RefreshTokenExpiryTime], [p].[Id], [p].[Address], [p].[BirthDate], [p].[Email], [p].[FirstName], [p].[Gender], [p].[LastName], [p].[PhoneNumber], [e0].[PersonId], [e0].[CreatedAt], [e0].[IsActive], [e0].[RoleTypeId], [e0].[TypeId], [e0].[salary], [e1].[Id], [e1].[Type]
FROM [EmployeeAccount] AS [e]
INNER JOIN [Tokens] AS [t] ON [e].[TokenId] = [t].[Id]
INNER JOIN [Persons] AS [p] ON [e].[EmployeeId] = [p].[Id]
LEFT JOIN [Employees] AS [e0] ON [p].[Id] = [e0].[PersonId]
LEFT JOIN [EmployeeType] AS [e1] ON [e0].[TypeId] = [e1].[Id]
WHERE [e].[Account] = @__request_Email_0
2025-08-01 23:59:55.694 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Tokens] SET [RefreshToken] = @p0, [RefreshTokenExpiryTime] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-08-01 23:59:55.807 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__EmployeeAccount_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Account], [e].[EmployeeId], [e].[IsFrozen], [e].[Password], [e].[TokenId]
FROM [EmployeeAccount] AS [e]
WHERE [e].[Account] = @__EmployeeAccount_0
2025-08-01 23:59:56.009 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LoginRegister] ([EmployeeId])
OUTPUT INSERTED.[Id], INSERTED.[Date]
VALUES (@p0);
2025-08-01 23:59:56.100 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-08-01 23:59:56.117 +02:00 [INF] Executed action bankApI.Controllers.AuthenticationController.Login (bankApI) in 9542.734ms
2025-08-01 23:59:56.122 +02:00 [INF] Executed endpoint 'bankApI.Controllers.AuthenticationController.Login (bankApI)'
2025-08-01 23:59:56.152 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7287/api/authentication/login - 200 null text/plain; charset=utf-8 9938.2001ms
